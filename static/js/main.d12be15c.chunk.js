(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,n,t){e.exports=t(32)},32:function(e,n,t){"use strict";t.r(n);var r=t(0),o=t.n(r),a=t(3),c=t.n(a),i=t(4),u=t(5),l=t(17),s=t(11),d=t(18),f=t(1),p=t(2);function h(){var e=Object(f.a)(["\n    justify-content: space-evenly;\n  "]);return h=function(){return e},e}function v(){var e=Object(f.a)(["\n    margin-top: -50px;\n  "]);return v=function(){return e},e}function g(){var e=Object(f.a)(["\n  ","\n  width: 100%; height: 155px;\n  text-align: center;\n  display: flex;\n  justify-content: center;\n  ","\n  position: relative;\n  pointer-events: none;\n  z-index: ",";\n"]);return g=function(){return e},e}function k(){var e=Object(f.a)(["\n  position: relative;\n  left: ","px;\n  width: 240px; height: 155px;\n  white-space:nowrap;\n  pointer-events: none;\n"]);return k=function(){return e},e}function m(){var e=Object(f.a)(["\n    pointer-events: none !important;\n    opacity: 0;\n  "]);return m=function(){return e},e}function b(){var e=Object(f.a)(["\n    background-image: radial-gradient(#fff, #c6c6c6);\n    color: ",";\n  "]);return b=function(){return e},e}function w(){var e=Object(f.a)(["\n  height: 155px; width: 120px;\n  line-height: 150px;\n  font-size: 60px;\n  border-radius: 10px;\n  text-align: center;\n  font-weight: bold;\n  float: left;\n  user-select: none;\n  pointer-events: all;\n\n  background-image: radial-gradient(#3a6eb2, #2a5082);\n  color: transparent;\n\n  ","\n\n  ","\n"]);return w=function(){return e},e}function x(){var e=Object(f.a)(["\n width: 1200px;\n"]);return x=function(){return e},e}var C=p.b.div(x()),E=p.b.div(w(),function(e){return e.revealed&&Object(p.a)(b(),function(e){return e.colour})},function(e){return e.picked&&Object(p.a)(m())}),y=p.b.div(k(),function(e){return e.left}),j=p.b.div(g(),function(e){return e.margined&&Object(p.a)(v())},function(e){return e.spaceEvenly&&Object(p.a)(h())},function(e){return e.zIndex}),O=function(e){return o.a.createElement(C,null,e.rows.map(function(n,t){return 1===t?o.a.createElement(r.Fragment,{key:t},o.a.createElement(j,{zIndex:1,margined:!0,spaceEvenly:!0},o.a.createElement(y,{left:30},o.a.createElement(E,{colour:e.colours[1][0],picked:e.picks[1][0],revealed:e.reveals[1][0],onMouseDown:function(){e.onCardClick(1,0)}},e.rows[1][0]),o.a.createElement(E,{colour:e.colours[1][1],picked:e.picks[1][1],revealed:e.reveals[1][1],onMouseDown:function(){e.onCardClick(1,1)}},e.rows[1][1])),o.a.createElement(y,null,o.a.createElement(E,{colour:e.colours[1][2],picked:e.picks[1][2],revealed:e.reveals[1][2],onMouseDown:function(){e.onCardClick(1,2)}},e.rows[1][2]),o.a.createElement(E,{colour:e.colours[1][3],picked:e.picks[1][3],revealed:e.reveals[1][3],onMouseDown:function(){e.onCardClick(1,3)}},e.rows[1][3])),o.a.createElement(y,{left:-30},o.a.createElement(E,{colour:e.colours[1][4],picked:e.picks[1][4],revealed:e.reveals[1][4],onMouseDown:function(){e.onCardClick(1,4)}},e.rows[1][4]),o.a.createElement(E,{colour:e.colours[1][5],picked:e.picks[1][5],revealed:e.reveals[1][5],onMouseDown:function(){e.onCardClick(1,5)}},e.rows[1][5])))):o.a.createElement(j,{zIndex:t,spaceEvenly:0===t,margined:0!==t,key:t,flex:!0},n.map(function(n,r){return o.a.createElement(E,{onMouseDown:function(){e.onCardClick(t,r)},revealed:e.reveals[t][r],picked:e.picks[t][r],colour:e.colours[t][r],key:r},n)}))}))};function M(){var e=Object(f.a)(["\n  position: relative;\n  top: 30px;\n  width: 270px; height: 155px;\n  padding: 30px; border-radius: 10px;\n  background-color: rgba(0, 0, 0, 0.5);\n  margin: auto;\n"]);return M=function(){return e},e}var S=p.b.div(M()),z=function(e){return o.a.createElement(S,null,o.a.createElement(E,{style:{float:"right"},colour:e.targetColour,revealed:!0},e.target),o.a.createElement(E,{picked:e.dry,onClick:e.onStockClick}))},D=["A","2","3","4","5","6","7","8","9","10","J","Q","K"],I=[R(function(){return!1},3),R(function(){return!1},6),R(function(){return!1},9),R(function(){return!0},10)],A=[R(function(){return!1},3),R(function(){return!1},6),R(function(){return!1},9),R(function(){return!1},10)],J=[26,26],L=[R(q,3),R(q,6),R(q,9),R(q,10)];function R(e,n){for(var t=[],r=0;r<n;r++)t.push(e());return t}function F(e,n){var t=D.indexOf(n)-1,r=D.indexOf(n)+1;return-1===t&&(t=D.length-1),r===D.length&&(r=0),D[t]===e||D[r]===e}function Y(e,n){if(3===e)return!0;var t=Math.floor(n*(2-.5*e)),r=A[e+1][t],o=A[e+1][t+1],a=r&&o;return I[e][n]=a,a}function q(){var e=Math.round(Math.random());return 0===J[e]&&(e=0===e?1:0),J[e]-=1,["black","red"][e]}var B=function(){function e(){Object(i.a)(this,e),this.cards=[];for(var n=0;n<4;n++)this.cards=this.cards.concat(D);this.shuffle()}return Object(u.a)(e,[{key:"shuffle",value:function(){for(var e=this.cards,n=e.length-1;n>0;n--){var t=Math.floor(Math.random()*(n+1)),r=[e[t],e[n]];e[n]=r[0],e[t]=r[1]}this.cards=e}},{key:"pick",value:function(e){for(var n=[],t=0;t<e;t++)n.push(this.cards.pop());return n}}]),e}(),H=t(16);function K(){var e=Object(f.a)(["\n  background-color: #efc88d;\n  border-left: 4px solid #ef695b;\n  padding: 20px;\n  width: calc(100% - 84px);\n  margin: auto;\n  position: relative; top: 40px;\n  color: black;\n"]);return K=function(){return e},e}function Q(){var e=Object(f.a)(["\n  width: calc(100% - 104px);\n  z-index: 10;\n  border-left: 4px solid green;\n  height: 34px; background-color: #4bd185;\n  padding: 30px;\n  font-size: 17px;\n  line-height: 17px;\n  text-align: center;\n  position: absolute;\n  left: calc(50% - (50% - 26px));\n  top: calc(50% - 100px);\n"]);return Q=function(){return e},e}function T(){var e=Object(f.a)(["\n  width: 1200px; height: 715px;\n  position: fixed;\n  top: calc(50% - 357px);\n  left: calc(50% - 600px);\n"]);return T=function(){return e},e}var W=p.b.div(T()),G=p.b.div(Q()),N=p.b.div(K()),P=function(e){function n(e){var t;Object(i.a)(this,n),t=Object(l.a)(this,Object(s.a)(n).call(this,e));var r=new B;return t.state={deck:r,rows:[r.pick(3),r.pick(6),r.pick(9),r.pick(10)],target:r.pick(1)[0],targetColour:q(),forceRender:!1,message:"To play, click a card that is one above or below the target card. If you can't find one, click the face-down deck to draw.",messageClickAction:function(){t.setState({message:""})}},t}return Object(d.a)(n,e),Object(u.a)(n,[{key:"detectLoss",value:function(e){(function(e,n){for(var t=0;t<A.length;t++)for(var r=0;r<A[t].length;r++)if(I[t][r]&&!A[t][r]&&F(e[t][r],n))return!0;return!1})(this.state.rows,e)||0!==this.state.deck.cards.length||this.setState({message:"You lost, there are no remaining moves to make.",messageClickAction:function(){window.location.reload()}})}},{key:"handleCardClick",value:function(e,n){var t=this.state.rows[e][n];if(F(t,this.state.target)&&I[e][n]){A[e][n]=!0;for(var r=0;r<this.state.rows.length-1;r++)for(var o=0;o<this.state.rows[r].length;o++)Y(r,o);this.setState({target:t,targetColour:L[e][n],forceRender:!this.state.forceRender}),function(){for(var e=!0,n=0;n<A.length;n++)for(var t=0;t<A[n].length;t++)A[n][t]||(e=!1);return e}()&&this.setState({message:"You won!",messageClickAction:function(){window.location.reload()}}),this.detectLoss(t)}}},{key:"render",value:function(){var e=this;return o.a.createElement(H.a,{query:{minWidth:1200,minHeight:715}},function(n){return n?o.a.createElement(W,null,""===e.state.message?o.a.createElement(r.Fragment,null):o.a.createElement(G,{onClick:e.state.messageClickAction},e.state.message,o.a.createElement("br",null),"Click to dismiss"),o.a.createElement(O,{picks:A,reveals:I,colours:L,onCardClick:e.handleCardClick.bind(e),rows:e.state.rows}),o.a.createElement(z,{onStockClick:function(){var n=e.state.deck.pick(1)[0];e.setState({target:n,targetColour:q()}),e.detectLoss(n)},dry:0===e.state.deck.cards.length,targetColour:e.state.targetColour,target:e.state.target})):o.a.createElement(N,null,"Sorry, you need a larger window to play this game.",o.a.createElement("br",null),"If you're playing on mobile, you might have to try again with a desktop.")})}}]),n}(r.Component);c.a.render(o.a.createElement(P,null),document.getElementById("root"))}},[[20,2,1]]]);
//# sourceMappingURL=main.d12be15c.chunk.js.map