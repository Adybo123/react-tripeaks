{"version":3,"sources":["components/cardContainers.js","components/rows.js","components/targetHolder.js","game.js","App.js","index.js"],"names":["RowContainer","styled","div","_templateObject","Card","_templateObject2","props","revealed","css","_templateObject3","colour","picked","_templateObject4","CardGroup","_templateObject5","left","CardLine","_templateObject6","margined","_templateObject7","spaceEvenly","_templateObject8","zIndex","Rows","react_default","a","createElement","rows","map","r","i","react","key","colours","picks","reveals","onMouseDown","onCardClick","flex","x","j","TargetHolderStyled","targetHolder_templateObject","TargetHolder","style","float","targetColour","target","dry","onClick","onStockClick","oneSuit","getReturns","coloursLeft","getCardColour","func","num","out","push","hitsTarget","card","bI","indexOf","aI","length","updateRevealed","newI","Math","floor","card1","card2","round","random","GameDeck","Object","classCallCheck","this","cards","concat","shuffle","_ref","amnt","pop","AppStyled","App_templateObject","Message","App_templateObject2","WarningStyled","App_templateObject3","App","_this","possibleConstructorReturn","getPrototypeOf","call","deck","state","pick","forceRender","message","messageClickAction","setState","y","movesLeft","window","location","reload","allP","allPicked","detectLoss","_this2","react_media","query","minWidth","minHeight","matches","handleCardClick","bind","targetHolder","Component","ReactDOM","render","src_App","document","getElementById"],"mappings":"mkDAEA,IAAMA,EAAeC,IAAOC,IAAVC,KAIZC,EAAOH,IAAOC,IAAVG,IAcN,SAAAC,GAAK,OAAIA,EAAMC,UAAYC,YAAlBC,IAEA,SAAAH,GAAK,OAAIA,EAAMI,UAGxB,SAAAJ,GAAK,OAAIA,EAAMK,QAAUH,YAAhBI,OAMPC,EAAYZ,IAAOC,IAAVY,IAEL,SAAAR,GAAK,OAAIA,EAAMS,OAMnBC,EAAWf,IAAOC,IAAVe,IACV,SAAAX,GAAK,OAAIA,EAAMY,UAAYV,YAAlBW,MAOT,SAAAb,GAAK,OAAIA,EAAMc,aAAeZ,YAArBa,MAKA,SAAAf,GAAK,OAAIA,EAAMgB,SCPbC,EAxCF,SAAAjB,GAAK,OAChBkB,EAAAC,EAAAC,cAAC1B,EAAD,KACGM,EAAMqB,KAAKC,IAAI,SAACC,EAAGC,GAAJ,OACR,IAANA,EACEN,EAAAC,EAAAC,cAACK,EAAA,SAAD,CAAUC,IAAKF,GACbN,EAAAC,EAAAC,cAACV,EAAD,CAAUM,OAAQ,EAAGJ,UAAQ,EAACE,aAAW,GACvCI,EAAAC,EAAAC,cAACb,EAAD,CAAWE,KAAM,IACfS,EAAAC,EAAAC,cAACtB,EAAD,CAAMM,OAAQJ,EAAM2B,QAAQ,GAAG,GAAItB,OAAQL,EAAM4B,MAAM,GAAG,GAAI3B,SAAUD,EAAM6B,QAAQ,GAAG,GAAIC,YAAa,WAAQ9B,EAAM+B,YAAY,EAAG,KAAO/B,EAAMqB,KAAK,GAAG,IAC5JH,EAAAC,EAAAC,cAACtB,EAAD,CAAMM,OAAQJ,EAAM2B,QAAQ,GAAG,GAAItB,OAAQL,EAAM4B,MAAM,GAAG,GAAI3B,SAAUD,EAAM6B,QAAQ,GAAG,GAAIC,YAAa,WAAQ9B,EAAM+B,YAAY,EAAG,KAAO/B,EAAMqB,KAAK,GAAG,KAE9JH,EAAAC,EAAAC,cAACb,EAAD,KACEW,EAAAC,EAAAC,cAACtB,EAAD,CAAMM,OAAQJ,EAAM2B,QAAQ,GAAG,GAAItB,OAAQL,EAAM4B,MAAM,GAAG,GAAI3B,SAAUD,EAAM6B,QAAQ,GAAG,GAAIC,YAAa,WAAQ9B,EAAM+B,YAAY,EAAG,KAAO/B,EAAMqB,KAAK,GAAG,IAC5JH,EAAAC,EAAAC,cAACtB,EAAD,CAAMM,OAAQJ,EAAM2B,QAAQ,GAAG,GAAItB,OAAQL,EAAM4B,MAAM,GAAG,GAAI3B,SAAUD,EAAM6B,QAAQ,GAAG,GAAIC,YAAa,WAAQ9B,EAAM+B,YAAY,EAAG,KAAO/B,EAAMqB,KAAK,GAAG,KAE9JH,EAAAC,EAAAC,cAACb,EAAD,CAAWE,MAAO,IAChBS,EAAAC,EAAAC,cAACtB,EAAD,CAAMM,OAAQJ,EAAM2B,QAAQ,GAAG,GAAItB,OAAQL,EAAM4B,MAAM,GAAG,GAAI3B,SAAUD,EAAM6B,QAAQ,GAAG,GAAIC,YAAa,WAAQ9B,EAAM+B,YAAY,EAAG,KAAO/B,EAAMqB,KAAK,GAAG,IAC5JH,EAAAC,EAAAC,cAACtB,EAAD,CAAMM,OAAQJ,EAAM2B,QAAQ,GAAG,GAAItB,OAAQL,EAAM4B,MAAM,GAAG,GAAI3B,SAAUD,EAAM6B,QAAQ,GAAG,GAAIC,YAAa,WAAQ9B,EAAM+B,YAAY,EAAG,KAAO/B,EAAMqB,KAAK,GAAG,OAKlKH,EAAAC,EAAAC,cAACV,EAAD,CACEM,OAAQQ,EACRV,YAAmB,IAANU,EACbZ,SAAgB,IAANY,EACVE,IAAKF,EACLQ,MAAI,GACHT,EAAED,IAAI,SAACW,EAAGC,GAAJ,OAAUhB,EAAAC,EAAAC,cAACtB,EAAD,CACfgC,YAAa,WAAQ9B,EAAM+B,YAAYP,EAAGU,IAC1CjC,SAAUD,EAAM6B,QAAQL,GAAGU,GAC3B7B,OAAQL,EAAM4B,MAAMJ,GAAGU,GACvB9B,OAAQJ,EAAM2B,QAAQH,GAAGU,GACzBR,IAAKQ,GACJD,uPClCb,IAAME,EAAqBxC,IAAOC,IAAVwC,KAqBTC,EAZM,SAAArC,GAAK,OACxBkB,EAAAC,EAAAC,cAACe,EAAD,KACEjB,EAAAC,EAAAC,cAACtB,EAAD,CACEwC,MAAO,CAAEC,MAAO,SAChBnC,OAAQJ,EAAMwC,aACdvC,UAAQ,GAAED,EAAMyC,QAClBvB,EAAAC,EAAAC,cAACtB,EAAD,CACEO,OAAQL,EAAM0C,IACdC,QAAS3C,EAAM4C,iBCrBfC,EAAU,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAAM,IAAK,IAAK,KAE1EhB,EAAU,CACZiB,EAAW,kBAAM,GAAO,GACxBA,EAAW,kBAAM,GAAO,GACxBA,EAAW,kBAAM,GAAO,GACxBA,EAAW,kBAAM,GAAM,KAErBlB,EAAQ,CACVkB,EAAW,kBAAM,GAAO,GACxBA,EAAW,kBAAM,GAAO,GACxBA,EAAW,kBAAM,GAAO,GACxBA,EAAW,kBAAM,GAAO,KAEtBC,EAAc,CAAC,GAAI,IACnBpB,EAAU,CACZmB,EAAWE,EAAe,GAC1BF,EAAWE,EAAe,GAC1BF,EAAWE,EAAe,GAC1BF,EAAWE,EAAe,KAG5B,SAASF,EAAYG,EAAMC,GAEzB,IADA,IAAIC,EAAM,GACD3B,EAAI,EAAGA,EAAI0B,EAAK1B,IAAK2B,EAAIC,KAAKH,KACvC,OAAOE,EAGT,SAASE,EAAYC,EAAMb,GACzB,IAAIc,EAAKV,EAAQW,QAAQf,GAAU,EAC/BgB,EAAKZ,EAAQW,QAAQf,GAAU,EAInC,OAFY,IAARc,IAAWA,EAAKV,EAAQa,OAAS,GACjCD,IAAOZ,EAAQa,SAAQD,EAAK,GACxBZ,EAAQU,KAAQD,GAAQT,EAAQY,KAAQH,EAGlD,SAASK,EAAgBpC,EAAGC,GAC1B,GAAU,IAAND,EAAS,OAAO,EAGpB,IAAIqC,EAAOC,KAAKC,MAAMtC,GAAK,EAAI,GAAMD,IACjCwC,EAAQnC,EAAML,EAAI,GAAGqC,GACrBI,EAAQpC,EAAML,EAAI,GAAGqC,EAAO,GAC5B3D,EAAY8D,GAASC,EAEzB,OADAnC,EAAQN,GAAGC,GAAKvB,EACTA,EAGT,SAAS+C,IAMP,IAAI5C,EAASyD,KAAKI,MAAMJ,KAAKK,UAI7B,OAF4B,IAAxBnB,EAAY3C,KAAeA,EAAqB,IAAXA,EAAgB,EAAI,GAC7D2C,EAAY3C,IAAW,EAChB,CAAC,QAAS,OAAOA,OAuBpB+D,aACJ,SAAAA,IAAgBC,OAAAC,EAAA,EAAAD,CAAAE,KAAAH,GACdG,KAAKC,MAAQ,GAEb,IAAK,IAAI/C,EAAI,EAAGA,EAAI,EAAGA,IAAK8C,KAAKC,MAAQD,KAAKC,MAAMC,OAAO3B,GAC3DyB,KAAKG,gEAML,IADA,IAAItD,EAAImD,KAAKC,MACJ/C,EAAIL,EAAEuC,OAAS,EAAGlC,EAAI,EAAGA,IAAK,CACrC,IAAMU,EAAI2B,KAAKC,MAAMD,KAAKK,UAAY1C,EAAI,IADLkD,EAEtB,CAACvD,EAAEe,GAAIf,EAAEK,IAAvBL,EAAEK,GAFkCkD,EAAA,GAE9BvD,EAAEe,GAF4BwC,EAAA,GAIvCJ,KAAKC,MAAQpD,+BAGTwD,GAEJ,IADA,IAAIxB,EAAM,GACD3B,EAAI,EAAGA,EAAImD,EAAMnD,IAAK2B,EAAIC,KAAKkB,KAAKC,MAAMK,OACnD,OAAOzB,2yBChGX,IAAM0B,EAAYlF,IAAOC,IAAVkF,KAOTC,EAAUpF,IAAOC,IAAVoF,KAcPC,EAAgBtF,IAAOC,IAAVsF,KAkHJC,cAvGb,SAAAA,EAAanF,GAAO,IAAAoF,EAAAhB,OAAAC,EAAA,EAAAD,CAAAE,KAAAa,GAClBC,EAAAhB,OAAAiB,EAAA,EAAAjB,CAAAE,KAAAF,OAAAkB,EAAA,EAAAlB,CAAAe,GAAAI,KAAAjB,KAAMtE,IACN,IAAIwF,EAAO,IAAIrB,EAFG,OAGlBiB,EAAKK,MAAQ,CACXD,KAAMA,EACNnE,KAAM,CACJmE,EAAKE,KAAK,GACVF,EAAKE,KAAK,GACVF,EAAKE,KAAK,GACVF,EAAKE,KAAK,KAEZjD,OAAQ+C,EAAKE,KAAK,GAAG,GACrBlD,aAAcQ,IACd2C,aAAa,EACbC,QAAS,6HACTC,mBAAoB,WAAQT,EAAKU,SAAS,CAAEF,QAAS,OAfrCR,0EAmBR3C,IDYd,SAAoBpB,EAAMoB,GACxB,IAAK,IAAIR,EAAI,EAAGA,EAAIL,EAAM8B,OAAQzB,IAChC,IAAK,IAAI8D,EAAI,EAAGA,EAAInE,EAAMK,GAAGyB,OAAQqC,IACnC,GAAIlE,EAAQI,GAAG8D,KAAOnE,EAAMK,GAAG8D,IACzB1C,EAAWhC,EAAKY,GAAG8D,GAAItD,GAAS,OAAO,EAIjD,OAAO,GClBFuD,CAAU1B,KAAKmB,MAAMpE,KAAMoB,IACK,IAAjC6B,KAAKmB,MAAMD,KAAKjB,MAAMb,QAEtBY,KAAKwB,SAAS,CACZF,QAAS,kDACTC,mBAAoB,WAAQI,OAAOC,SAASC,oDAKjC5E,EAAGC,GAClB,IAAI8B,EAAOgB,KAAKmB,MAAMpE,KAAKE,GAAGC,GAC9B,GAAK6B,EAAWC,EAAMgB,KAAKmB,MAAMhD,SAE7BZ,EAAQN,GAAGC,GAAI,CACjBI,EAAML,GAAGC,IAAK,EAEd,IAAK,IAAIS,EAAI,EAAGA,EAAIqC,KAAKmB,MAAMpE,KAAKqC,OAAS,EAAGzB,IAC9C,IAAK,IAAI8D,EAAI,EAAGA,EAAIzB,KAAKmB,MAAMpE,KAAKY,GAAGyB,OAAQqC,IAAKpC,EAAe1B,EAAG8D,GAGxEzB,KAAKwB,SAAS,CACZrD,OAAQa,EACRd,aAAcb,EAAQJ,GAAGC,GACzBmE,aAAcrB,KAAKmB,MAAME,cDtBjC,WAEE,IADA,IAAIS,GAAO,EACFnE,EAAI,EAAGA,EAAIL,EAAM8B,OAAQzB,IAChC,IAAK,IAAI8D,EAAI,EAAGA,EAAInE,EAAMK,GAAGyB,OAAQqC,IAAUnE,EAAMK,GAAG8D,KAAIK,GAAO,GAErE,OAAOA,ECqBCC,IACF/B,KAAKwB,SAAS,CACZF,QAAS,WACTC,mBAAoB,WAAQI,OAAOC,SAASC,YAIhD7B,KAAKgC,WAAWhD,qCAIV,IAAAiD,EAAAjC,KACR,OACEpD,EAAAC,EAAAC,cAACoF,EAAA,EAAD,CAAOC,MAAO,CAAEC,SAAU,KAAMC,UAAW,MAEvC,SAAAC,GAAO,OAAIA,EACT1F,EAAAC,EAAAC,cAACyD,EAAD,KAC0B,KAAvB0B,EAAKd,MAAMG,QAAiB1E,EAAAC,EAAAC,cAACK,EAAA,SAAD,MAC3BP,EAAAC,EAAAC,cAAC2D,EAAD,CAASpC,QAAS4D,EAAKd,MAAMI,oBAAqBU,EAAKd,MAAMG,QAAQ1E,EAAAC,EAAAC,cAAA,WAArE,oBAEFF,EAAAC,EAAAC,cAACC,EAAD,CACEO,MAAOA,EACPC,QAASA,EACTF,QAASA,EACTI,YAAawE,EAAKM,gBAAgBC,KAAKP,GACvClF,KAAMkF,EAAKd,MAAMpE,OAEnBH,EAAAC,EAAAC,cAAC2F,EAAD,CACEnE,aAAc,WACZ,IAAIU,EAAOiD,EAAKd,MAAMD,KAAKE,KAAK,GAAG,GACnCa,EAAKT,SAAS,CACZrD,OAAQa,EACRd,aAAcQ,MAIhBuD,EAAKD,WAAWhD,IAElBZ,IAAsC,IAAjC6D,EAAKd,MAAMD,KAAKjB,MAAMb,OAC3BlB,aAAc+D,EAAKd,MAAMjD,aACzBC,OAAQ8D,EAAKd,MAAMhD,UAGvBvB,EAAAC,EAAAC,cAAC6D,EAAD,0DACoD/D,EAAAC,EAAAC,cAAA,WADpD,qFA7FM4F,aClClBC,IAASC,OAAOhG,EAAAC,EAAAC,cAAC+F,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.d12be15c.chunk.js","sourcesContent":["import styled, { css } from 'styled-components'\r\n\r\nconst RowContainer = styled.div`\r\n width: 1200px;\r\n`\r\n\r\nconst Card = styled.div`\r\n  height: 155px; width: 120px;\r\n  line-height: 150px;\r\n  font-size: 60px;\r\n  border-radius: 10px;\r\n  text-align: center;\r\n  font-weight: bold;\r\n  float: left;\r\n  user-select: none;\r\n  pointer-events: all;\r\n\r\n  background-image: radial-gradient(#3a6eb2, #2a5082);\r\n  color: transparent;\r\n\r\n  ${props => props.revealed && css`\r\n    background-image: radial-gradient(#fff, #c6c6c6);\r\n    color: ${props => props.colour};\r\n  `}\r\n\r\n  ${props => props.picked && css`\r\n    pointer-events: none !important;\r\n    opacity: 0;\r\n  `}\r\n`\r\n\r\nconst CardGroup = styled.div`\r\n  position: relative;\r\n  left: ${props => props.left}px;\r\n  width: 240px; height: 155px;\r\n  white-space:nowrap;\r\n  pointer-events: none;\r\n`\r\n\r\nconst CardLine = styled.div`\r\n  ${props => props.margined && css`\r\n    margin-top: -50px;\r\n  `}\r\n  width: 100%; height: 155px;\r\n  text-align: center;\r\n  display: flex;\r\n  justify-content: center;\r\n  ${props => props.spaceEvenly && css`\r\n    justify-content: space-evenly;\r\n  `}\r\n  position: relative;\r\n  pointer-events: none;\r\n  z-index: ${props => props.zIndex};\r\n`\r\n\r\nexport { Card, CardGroup, CardLine, RowContainer }\r\n","import React, { Fragment } from 'react'\r\nimport { Card, CardGroup, CardLine, RowContainer } from './cardContainers'\r\n\r\n// I hate this. It sucks.\r\n// Row two has to have every two cards contained in a CardGroup for layout\r\nconst Rows = props => (\r\n  <RowContainer>\r\n    {props.rows.map((r, i) => (\r\n      i === 1 ? (\r\n        <Fragment key={i}>\r\n          <CardLine zIndex={1} margined spaceEvenly>\r\n            <CardGroup left={30}>\r\n              <Card colour={props.colours[1][0]} picked={props.picks[1][0]} revealed={props.reveals[1][0]} onMouseDown={() => { props.onCardClick(1, 0) }}>{props.rows[1][0]}</Card>\r\n              <Card colour={props.colours[1][1]} picked={props.picks[1][1]} revealed={props.reveals[1][1]} onMouseDown={() => { props.onCardClick(1, 1) }}>{props.rows[1][1]}</Card>\r\n            </CardGroup>\r\n            <CardGroup>\r\n              <Card colour={props.colours[1][2]} picked={props.picks[1][2]} revealed={props.reveals[1][2]} onMouseDown={() => { props.onCardClick(1, 2) }}>{props.rows[1][2]}</Card>\r\n              <Card colour={props.colours[1][3]} picked={props.picks[1][3]} revealed={props.reveals[1][3]} onMouseDown={() => { props.onCardClick(1, 3) }}>{props.rows[1][3]}</Card>\r\n            </CardGroup>\r\n            <CardGroup left={-30}>\r\n              <Card colour={props.colours[1][4]} picked={props.picks[1][4]} revealed={props.reveals[1][4]} onMouseDown={() => { props.onCardClick(1, 4) }}>{props.rows[1][4]}</Card>\r\n              <Card colour={props.colours[1][5]} picked={props.picks[1][5]} revealed={props.reveals[1][5]} onMouseDown={() => { props.onCardClick(1, 5) }}>{props.rows[1][5]}</Card>\r\n            </CardGroup>\r\n          </CardLine>\r\n        </Fragment>\r\n      ) : (\r\n        <CardLine\r\n          zIndex={i}\r\n          spaceEvenly={i === 0}\r\n          margined={i !== 0}\r\n          key={i}\r\n          flex>\r\n          {r.map((x, j) => <Card\r\n            onMouseDown={() => { props.onCardClick(i, j) }}\r\n            revealed={props.reveals[i][j]}\r\n            picked={props.picks[i][j]}\r\n            colour={props.colours[i][j]}\r\n            key={j}>\r\n            {x}</Card>)}\r\n        </CardLine>\r\n      )\r\n    ))}\r\n  </RowContainer>\r\n)\r\n\r\nexport default Rows\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { Card } from './cardContainers'\r\n\r\nconst TargetHolderStyled = styled.div`\r\n  position: relative;\r\n  top: 30px;\r\n  width: 270px; height: 155px;\r\n  padding: 30px; border-radius: 10px;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  margin: auto;\r\n`\r\n\r\nconst TargetHolder = props => (\r\n  <TargetHolderStyled>\r\n    <Card\r\n      style={{ float: 'right' }}\r\n      colour={props.targetColour}\r\n      revealed>{props.target}</Card>\r\n    <Card\r\n      picked={props.dry}\r\n      onClick={props.onStockClick} />\r\n  </TargetHolderStyled>\r\n)\r\n\r\nexport default TargetHolder\r\n","const oneSuit = ['A', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K']\r\n// Fill revealed & picked cards arrays\r\nlet reveals = [\r\n  getReturns(() => false, 3),\r\n  getReturns(() => false, 6),\r\n  getReturns(() => false, 9),\r\n  getReturns(() => true, 10)\r\n]\r\nlet picks = [\r\n  getReturns(() => false, 3),\r\n  getReturns(() => false, 6),\r\n  getReturns(() => false, 9),\r\n  getReturns(() => false, 10)\r\n]\r\nlet coloursLeft = [26, 26]\r\nlet colours = [\r\n  getReturns(getCardColour, 3),\r\n  getReturns(getCardColour, 6),\r\n  getReturns(getCardColour, 9),\r\n  getReturns(getCardColour, 10)\r\n]\r\n\r\nfunction getReturns (func, num) {\r\n  let out = []\r\n  for (let i = 0; i < num; i++) out.push(func())\r\n  return out\r\n}\r\n\r\nfunction hitsTarget (card, target) {\r\n  let bI = oneSuit.indexOf(target) - 1\r\n  let aI = oneSuit.indexOf(target) + 1\r\n  // Wrap array, Ie. K matches A\r\n  if (bI === -1) bI = oneSuit.length - 1\r\n  if (aI === oneSuit.length) aI = 0\r\n  return (oneSuit[bI] === card || oneSuit[aI] === card)\r\n}\r\n\r\nfunction updateRevealed (r, i) {\r\n  if (r === 3) return true\r\n  // The magic reveal function\r\n  // newI = the i of the card below on the next r\r\n  let newI = Math.floor(i * (2 - 0.5 * r))\r\n  let card1 = picks[r + 1][newI]\r\n  let card2 = picks[r + 1][newI + 1]\r\n  let revealed = (card1 && card2)\r\n  reveals[r][i] = revealed\r\n  return revealed\r\n}\r\n\r\nfunction getCardColour () {\r\n  /* NOTE: This can produce oddities such as 4 red aces,\r\n           but it's an easy way to split the 52 cards red\r\n           and black since I couldn't think of another\r\n           way that wasn't inneficient/janky. */\r\n  // Randomly red or black\r\n  let colour = Math.round(Math.random())\r\n  // Flip to black if we're out of red, etc\r\n  if (coloursLeft[colour] === 0) colour = (colour === 0) ? 1 : 0\r\n  coloursLeft[colour] -= 1\r\n  return ['black', 'red'][colour]\r\n}\r\n\r\nfunction allPicked () {\r\n  let allP = true\r\n  for (let x = 0; x < picks.length; x++) {\r\n    for (let y = 0; y < picks[x].length; y++) if (!picks[x][y]) allP = false\r\n  }\r\n  return allP\r\n}\r\n\r\nfunction movesLeft (rows, target) {\r\n  for (let x = 0; x < picks.length; x++) {\r\n    for (let y = 0; y < picks[x].length; y++) {\r\n      if (reveals[x][y] && !picks[x][y]) {\r\n        if (hitsTarget(rows[x][y], target)) return true\r\n      }\r\n    }\r\n  }\r\n  return false\r\n}\r\n\r\n// These are prefixed because there are React elements like <Card/>\r\nclass GameDeck {\r\n  constructor () {\r\n    this.cards = []\r\n    // Fill deck\r\n    for (let i = 0; i < 4; i++) this.cards = this.cards.concat(oneSuit)\r\n    this.shuffle()\r\n  }\r\n\r\n  shuffle () {\r\n    // https://stackoverflow.com/questions/6274339\r\n    let a = this.cards\r\n    for (let i = a.length - 1; i > 0; i--) {\r\n      const j = Math.floor(Math.random() * (i + 1));\r\n      [a[i], a[j]] = [a[j], a[i]]\r\n    }\r\n    this.cards = a\r\n  }\r\n\r\n  pick (amnt) {\r\n    let out = []\r\n    for (let i = 0; i < amnt; i++) out.push(this.cards.pop())\r\n    return out\r\n  }\r\n}\r\n\r\nexport { GameDeck, hitsTarget, reveals, updateRevealed, picks, colours, movesLeft, getCardColour, allPicked }\r\n","import React, { Component, Fragment } from 'react'\nimport Rows from './components/rows'\nimport TargetHolder from './components/targetHolder'\nimport { GameDeck, hitsTarget, reveals, updateRevealed, picks, colours, movesLeft, getCardColour, allPicked } from './game'\nimport styled from 'styled-components'\nimport Media from 'react-media'\n\nconst AppStyled = styled.div`\n  width: 1200px; height: 715px;\n  position: fixed;\n  top: calc(50% - 357px);\n  left: calc(50% - 600px);\n`\n\nconst Message = styled.div`\n  width: calc(100% - 104px);\n  z-index: 10;\n  border-left: 4px solid green;\n  height: 34px; background-color: #4bd185;\n  padding: 30px;\n  font-size: 17px;\n  line-height: 17px;\n  text-align: center;\n  position: absolute;\n  left: calc(50% - (50% - 26px));\n  top: calc(50% - 100px);\n`\n\nconst WarningStyled = styled.div`\n  background-color: #efc88d;\n  border-left: 4px solid #ef695b;\n  padding: 20px;\n  width: calc(100% - 84px);\n  margin: auto;\n  position: relative; top: 40px;\n  color: black;\n`\n\nclass App extends Component {\n  constructor (props) {\n    super(props)\n    let deck = new GameDeck()\n    this.state = {\n      deck: deck,\n      rows: [\n        deck.pick(3),\n        deck.pick(6),\n        deck.pick(9),\n        deck.pick(10)\n      ],\n      target: deck.pick(1)[0],\n      targetColour: getCardColour(),\n      forceRender: false,\n      message: \"To play, click a card that is one above or below the target card. If you can't find one, click the face-down deck to draw.\",\n      messageClickAction: () => { this.setState({ message: '' }) }\n    }\n  }\n\n  detectLoss (target) {\n    if (\n      !movesLeft(this.state.rows, target) &&\n      this.state.deck.cards.length === 0\n    ) {\n      this.setState({\n        message: 'You lost, there are no remaining moves to make.',\n        messageClickAction: () => { window.location.reload() }\n      })\n    }\n  }\n\n  handleCardClick (r, i) {\n    let card = this.state.rows[r][i]\n    if (!hitsTarget(card, this.state.target)) return\n\n    if (reveals[r][i]) {\n      picks[r][i] = true\n      // This sucks, and is definitely not the right way\n      for (let x = 0; x < this.state.rows.length - 1; x++) {\n        for (let y = 0; y < this.state.rows[x].length; y++) updateRevealed(x, y)\n      }\n      // This feels wrong and janky.\n      this.setState({\n        target: card,\n        targetColour: colours[r][i],\n        forceRender: !this.state.forceRender\n      })\n\n      // Detect win\n      if (allPicked()) {\n        this.setState({\n          message: 'You won!',\n          messageClickAction: () => { window.location.reload() }\n        })\n      }\n\n      this.detectLoss(card)\n    }\n  }\n\n  render () {\n    return (\n      <Media query={{ minWidth: 1200, minHeight: 715 }}>\n        {\n          matches => matches ? (\n            <AppStyled>\n              {this.state.message === '' ? <Fragment /> : (\n                <Message onClick={this.state.messageClickAction}>{this.state.message}<br />Click to dismiss</Message>\n              )}\n              <Rows\n                picks={picks}\n                reveals={reveals}\n                colours={colours}\n                onCardClick={this.handleCardClick.bind(this)}\n                rows={this.state.rows} />\n\n              <TargetHolder\n                onStockClick={() => {\n                  let card = this.state.deck.pick(1)[0]\n                  this.setState({\n                    target: card,\n                    targetColour: getCardColour()\n                  })\n                  // Edge case loose condition where no table cards are flipped,\n                  // but you can still run out of moves.\n                  this.detectLoss(card)\n                }}\n                dry={this.state.deck.cards.length === 0}\n                targetColour={this.state.targetColour}\n                target={this.state.target} />\n            </AppStyled>\n          ) : (\n            <WarningStyled>\n              Sorry, you need a larger window to play this game.<br />\n              If you're playing on mobile, you might have to try again with a desktop.\n            </WarningStyled>\n          )\n        }\n      </Media>\n    )\n  }\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}